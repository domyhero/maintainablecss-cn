<!DOCTYPE HTML>
<html dir="ltr" lang="en">
	<head>
	    <title>Reuse | MaintainableCSS - 一种哲学，教你如何编写模块化，可扩展性，可维护性的CSS。</title>
	    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="initial-scale=1.0">
<meta name="Author" content="Adam Silver">
<meta property="og:locale" content="en_GB">
<meta property="og:type" content="website">
<meta property="og:title" content="Reuse -  MaintainableCSS - 一种哲学，教你如何编写模块化，可扩展性，可维护性的CSS。">


	<meta property="og:description" content="Learn why avoding reuse and embracing repetition makes CSS maintenance easier.">


<meta property="og:url" content="/maintainablecss-cn/chapters/reuse/">
<meta property="og:site_name" content="MaintainableCSS">
<meta property="og:image" content="/maintainablecss-cn/assets/img/card1.png">
<meta property="og:image:width" content="118">
<meta property="og:image:height" content="118">

<meta name="twitter:card" content="summary">


	<meta name="twitter:description" content="Learn why avoding reuse and embracing repetition makes CSS maintenance easier.">


<meta name="twitter:title" content="Reuse -  MaintainableCSS - 一种哲学，教你如何编写模块化，可扩展性，可维护性的CSS。">
<meta name="twitter:site" content="@adambsilver">
<meta name="twitter:creator" content="@adambsilver">


	<meta itemprop="description" content="Learn why avoding reuse and embracing repetition makes CSS maintenance easier.">


<meta property="twitter:image" content="/maintainablecss-cn/assets/img/card1.png">

<link rel="stylesheet" href="/maintainablecss-cn/assets/css/main.css" type="text/css" media="all">

<link rel="canonical" href="/maintainablecss-cn/chapters/reuse/">

<link rel="apple-touch-icon" sizes="57x57" href="/maintainablecss-cn/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/maintainablecss-cn/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/maintainablecss-cn/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/maintainablecss-cn/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/maintainablecss-cn/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/maintainablecss-cn/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/maintainablecss-cn/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/maintainablecss-cn/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/maintainablecss-cn/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/maintainablecss-cn/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/maintainablecss-cn/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/maintainablecss-cn/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/maintainablecss-cn/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/maintainablecss-cn/manifest.json">
<link rel="mask-icon" href="/maintainablecss-cn/safari-pinned-tab.svg" color="#001f3f">
<meta name="msapplication-TileColor" content="#001F3F">
<meta name="msapplication-TileImage" content="/maintainablecss-cn/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create','UA-57882600-1','auto');
  ga('send','pageview');

</script>


	</head>
	<body>
		<div class="header">
	<div class="header-inner">
		<!-- <div class="logo"><a href="/">MaintainableCSS</a></div> -->
		<div class="logo"><a href="/maintainablecss-cn/index.html"><img src="/maintainablecss-cn/assets/img/logo_small.png" width="35" height="35"></a></div>
		<div class="navigation">
	<a class="" href="/maintainablecss-cn/index.html">首页</a>
  <a class="" href="/maintainablecss-cn/chapters/">目录</a>
	<a href="http://maintainablecss.com/">English</a>
	<a href="https://github.com/owenyang0/maintainablecss-cn">Github</a>
</div>
	</div>
</div>
        <div class="chapterNavigation ">
	<div class="chapterNavigation-inner">
		
			<a class="chapterNavigation-previous" href="/maintainablecss-cn/chapters/semantics/">&larr; <span class="chapterNavigation-label">Previous:</span> 语义化(Semantics)</a>
		
		
			<a class="chapterNavigation-next" href="/maintainablecss-cn/chapters/ids/"><span class="chapterNavigation-label">Next:</span> IDs &rarr;</a>
		
	</div>
</div>
        <div class="content">
			<h1>Reuse</h1>
           	<p><strong>Summary:</strong> Don’t try and reuse styles. Adopt a duplication-first approach.</p>

<blockquote>
  <p>“DRY is often misinterpreted as the necessity to never repeat the exact same thing twice […]. This is impractical and usually counterproductive, and can lead to forced abstractions, over-thought and [over]-engineered code.“
<br />— <cite>Harry Roberts, CSS Wizardy</cite></p>
</blockquote>

<p>Don’t take this the wrong way—MaintainableCSS has various strategies for reuse which I will talk about later. The problem is that trying to reuse the bits <em>inbetween</em> the curly braces is problematic. Here’s why:</p>

<h2 id="because-styles-change-based-on-breakpoints">Because styles change based on breakpoints.</h2>

<p>Building responsive sites mean that we style elements differently based on viewport size. Imagine trying to build a 2 column grid that:</p>

<ul>
  <li>has 50px and 20px padding on large and small screens respectively.</li>
  <li>has 3em and 2em font-size on large and small screens respectively.</li>
  <li>on small screens each column is stacked below each other. Note: “column” is now misleading.</li>
</ul>

<p>With this in mind how can you utilise these atomic class names: <code class="highlighter-rouge">.grid</code>, <code class="highlighter-rouge">.col</code>, <code class="highlighter-rouge">.pd50</code>, <code class="highlighter-rouge">.pd20</code>, <code class="highlighter-rouge">.fs2</code> and <code class="highlighter-rouge">fs3</code> and achieve these specs?</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div class="grid"&gt;
  &lt;div class="col pd50 pd20 fs3 fs2"&gt;Column 1&lt;/div&gt;
  &lt;div class="col pd50 pd20 fs3 fs2"&gt;Column 2&lt;/div&gt;
&lt;/div&gt;
</code></pre>
</div>

<p>You can see this just isn’t going to work. You now need some crazy class names such as <code class="highlighter-rouge">fs3large</code>. This is just the tip of iceberg when it comes to maintenance issues.</p>

<p>Alternatively, take the following semantic mark-up that doesn’t attempt to reuse styles:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div class="someModule"&gt;
  &lt;div class="someModule-someComponent"&gt;&lt;/div&gt;
  &lt;div class="someModule-someOtherComponent"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
</div>

<p>Ensuring this is styled as specified above, is now a simple task with 6 CSS declarations needed in total, 3 of which reside within media queries.</p>

<h2 id="because-styles-change-based-on-states">Because styles change based on states.</h2>

<p>How do you make <code class="highlighter-rouge">&lt;a class="padding-left-20 red" href="#"&gt;&lt;/a&gt;</code> to have padding 18px, a slight border, a background of grey and a text colour as a slightly darker shade of red when it’s hovered or focused of active i.e. <code class="highlighter-rouge">:hover</code>,<code class="highlighter-rouge">:focus</code>, <code class="highlighter-rouge">:active</code> etc?</p>

<p>The short answer is you can’t. Try to avoid having to fix self-induced problems.</p>

<h2 id="because-reuse-makes-debugging-more-difficult">Because reuse makes debugging more difficult.</h2>

<p>When debugging an element, there will be several applicable CSS selectors playing a part making it noisy.</p>

<h2 id="because-granular-styles-arent-worth-bothering-with">Because granular styles aren’t worth bothering with.</h2>

<p>If you’re going to do <code class="highlighter-rouge">&lt;div class="red"&gt;</code> you may as well do <code class="highlighter-rouge">&lt;div style="color: red"&gt;</code> which is more explicit anyway. But we don’t want to do this because we don’t want to mix concerns.</p>

<h2 id="because-visual-class-names-dont-hold-much-meaning">Because visual class names don’t hold much meaning.</h2>

<p>Take <code class="highlighter-rouge">red</code>. Does this mean a red background? Does this mean red text? Does this mean a red gradient? What tint of red does this mean?</p>

<h2 id="because-updating-a-utility-class-applies-to-all-instances">Because updating a “utility” class applies to all instances.</h2>

<p>This sounds good but it isn’t. You end up applying changes where you didn’t mean to. Think regression. Alternatively, you end up scared to touch this utility class so you end up with <code class="highlighter-rouge">.red2</code>. Then you end up with redundant code. Obviously this is not fun to maintain.</p>

<h2 id="because-non-semantic-class-names-are-hard-to-find">Because non-semantic class names are hard to find.</h2>

<p>If an element has classes based on how it looks such as <code class="highlighter-rouge">.red</code>, <code class="highlighter-rouge">.col-lg-4</code> and <code class="highlighter-rouge">.large</code>, then these classes will be scattered all over the codebase so searching for “red” will yield many results across the HTML templates, making it hard to find the element in question.</p>

<p>If you use semantic class names, a search should yield just one result. And if it yields more than one result, then this should indicate a problem that needs dealing with.</p>

<p>Note: if you have a repeated <em>component</em> within a module, then searching might yield several results within 1 file. That is, a module would typically live in a single template.</p>

<h2 id="because-reuse-causes-bloat">Because reuse causes bloat.</h2>

<p>If you attempt to reuse every single <em>rule</em> you’ll end up with classes such as: <code class="highlighter-rouge">red</code>, <code class="highlighter-rouge">clearfix</code>, <code class="highlighter-rouge">pull-left</code>, <code class="highlighter-rouge">grid</code> which leads to HTML bloat:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div class="clearfix pull-left red etc"&gt;
</code></pre>
</div>

<p>Bloat makes it harder to maintain and degrades performance (albeit in a minor way).</p>

<h2 id="because-reuse-breaks-semantics">Because reuse breaks semantics.</h2>

<p>If you strive to reuse the bits inbetween the curly braces to create “atomic” class names, then you encounter all the problems stated in the chapter about <a href="/chapters/semantics/">Semantics</a>. Read that chapter now, if you haven’t already.</p>

<h2 id="what-if-i-really-want-to-reuse-a-style">What if I really want to reuse a style?</h2>

<p>It is extremely rare, but there are times when it really does make sense to reuse a style. In this case use the comma in your selectors and place it in a well named file.</p>

<p>For example let’s say you wanted a bunch of different modules or components to have red text you might do this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* colours.css */

/* red text */
.someSelector,
.someOtherSelector {
	color: red;
}
</code></pre>
</div>

<p>Remember though that if any selector deviates, even a little bit, then remove it from the common list and duplicate. You must be very careful with something like this. Do it for convenience, not for performance. Your mileage may vary.</p>

<h2 id="what-about-mixins">What about mixins?</h2>

<p>CSS preprocessors allow you to create mixins which can be really helpful because they provide the best of both worlds but they should be designed with caution.</p>

<p>You have to be very careful to update a mixin because it propagates in all instances just like utility classes. It can be problematic to edit and instead you create new mixins that are slightly different causing redundancy and maintenance problems.</p>

<p>Also, mixins can become very complicated with lots of params, conditionality and large declarations of styles. All of this makes it complicated and complicated is hard to maintain.</p>

<p>To mitigate, you can make mixins really granular. For example you could have a “red text” mixin which is certainly better. But then again, the declaration of that mixin is basically the same as a declaration of red text—might as well just declare that instead.</p>

<p>If you need to update it in multiple places, then a search and replace might just do it, depending on your context. And even if you did use a mixin, when red changes to orange, you will have to do a search and replace anyway, because the mixin name will otherwise be misleading.</p>

<p>This does not mean mixins are “bad”—in fact they can be very helpful. For example, being able to apply <em>clearfix</em> rules across different elements at different breakpoints is probably a very helpful thing to do for maintainability. Just make sure to use them with care.</p>

<h2 id="what-about-performance">What about performance?</h2>

<p>I don’t have stats to hand, but I can very confidently say that it’s not wise to practice premature optimisation. Let’s say you have a very large CSS codebase (100KB or more).</p>

<p>Firstly, I <em>guess</em> you <em>might</em> save yourself a few KB. Secondly, there are alternative paths to improving performance and thirdly, you probably have redundant code due to a lack of maintainability.</p>

<p>Also consider that one or two images are likely to be far larger than the entire CSS so exerting energy here is probably of little value.</p>

<h2 id="is-this-violating-dry-principles">Is this violating DRY principles?</h2>

<p>Attempting to reuse <code class="highlighter-rouge">float: left</code> as an example, is akin to trying to reuse variable names in different Javascript objects. It’s simply not in violation of DRY.</p>

<h2 id="final-thoughts-on-reuse">Final thoughts on reuse</h2>

<p>Reuse and DRY are such important principles in software engineering but when it comes to CSS, striving to reuse too much ironically makes maintainance <em>harder</em>. However, there are times when reuse and abstraction makes sense which is discussed in later chapters.</p>

        </div>
        <div class="share">
	<a class="share-button" href="https://twitter.com/share?hashtags=css,mcss&amp;text=MaintainableCSS&mdash;an approach to writing modular, scalable and maintainable CSS.&amp;via=adambsilver&url=/maintainablecss-cn">Share on Twitter</a>
</div>
        <div class="chapterNavigation chapterNavigation-last ">
	<div class="chapterNavigation-inner">
		
			<a class="chapterNavigation-previous" href="/maintainablecss-cn/chapters/semantics/">&larr; <span class="chapterNavigation-label">Previous:</span> 语义化(Semantics)</a>
		
		
			<a class="chapterNavigation-next" href="/maintainablecss-cn/chapters/ids/"><span class="chapterNavigation-label">Next:</span> IDs &rarr;</a>
		
	</div>
</div>
        <div class="chapters">
	<div class="chapters-inner">
		<h2>Chapters</h2>
		<ol>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/introduction/">
							介绍
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/semantics/">
							语义化(Semantics)
					</a>
				</li>
			
				<li>
					<a
						class="chapters-isCurrentPage"
						href="/maintainablecss-cn/chapters/reuse/">
							Reuse
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/ids/">
							IDs
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/conventions/">
							Conventions
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/modules/">
							Modules
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/state/">
							State
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/modifiers/">
							Modifiers
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/versioning/">
							Versioning
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/javascript/">
							Javascript
					</a>
				</li>
			
				<li>
					<a
						class=""
						href="/maintainablecss-cn/chapters/faqs/">
							FAQs
					</a>
				</li>
			
		</ol>
	</div>
</div>
        <div class="footer">
	<div class="footer-inner">
    <p>Created by <a href="http://adamsilver.io">Adam Silver</a>, a UX engineer from London. Making things simple and human.</p>
		<p><a href="http://owenyang0.github.io/about/">Owen Yang</a> 翻译，一个来自中国的前端工程师。</p>
	</div>
</div>
	</body>
</html>